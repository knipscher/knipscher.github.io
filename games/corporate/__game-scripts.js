var TweenRotation=pc.createScript("tweenRotation");TweenRotation.attributes.add("duration",{type:"number",default:1}),TweenRotation.attributes.add("easing",{type:"string",default:"Linear"}),TweenRotation.attributes.add("delay",{type:"number",default:0}),TweenRotation.attributes.add("loop",{type:"boolean",default:!0}),TweenRotation.attributes.add("yoyo",{type:"boolean",default:!1}),TweenRotation.attributes.add("repeat",{type:"number",default:2}),TweenRotation.attributes.add("fromRotation",{type:"vec3",default:[0,0,0],title:"From Rotation",description:""}),TweenRotation.attributes.add("toRotation",{type:"vec3",default:[0,0,0],title:"To Rotation",description:""}),TweenRotation.prototype.initialize=function(){this.reset(),this.on("attr:duration",function(t){this.tween.duration=t},this),this.on("attr:easing",this.reset,this),this.on("attr:delay",this.reset,this),this.on("attr:loop",this.reset,this),this.on("attr:yoyo",this.reset,this),this.on("attr:repeat",this.reset,this),originalFromRotation=this.fromRotation,originalToRotation=this.toRotation},TweenRotation.prototype.reset=function(){this.tween&&this.tween.stop(),this.entity.setLocalEulerAngles(this.fromRotation),this.tween=this.entity.tween(this.entity.getLocalRotation()).rotate(this.toRotation,this.duration,pc[this.easing]).delay(this.delay).loop(this.loop).yoyo(this.yoyo),this.loop||this.tween.repeat(this.repeat),this.tween.start()},TweenRotation.prototype.startWalk=function(t,e,o,i,n,a){this.fromRotation=[t,e,o],this.toRotation=[i,n,a],this.reset()},TweenRotation.prototype.endWalk=function(){this.fromRotation=[0,0,0],this.toRotation=[0,0,0],this.reset()};var NPCCollider=pc.createScript("npcCollider");NPCCollider.attributes.add("jobSatisfactionTracker",{type:"entity",default:"",title:"Job Satisfaction Tracker"}),NPCCollider.attributes.add("jetpack",{type:"entity",default:"",title:""}),NPCCollider.prototype.initialize=function(){this.entity.collision.on("collisionstart",this.onCollisionStart,this)},NPCCollider.prototype.onCollisionStart=function(t){t.other.rigidbody&&"Player"==t.other.name&&!0===this.jetpack.script.jetpack.equippedJetpack.enabled&&this.jobSatisfactionTracker.script.jobSatisfactionTracker.subtractFromRating(.2)};pc.extend(pc,function(){var e=function(e){var o={aPosition:pc.SEMANTIC_POSITION},r=["attribute vec2 aPosition;","","void main(void)","{","    gl_Position = vec4(aPosition, 0.0, 1.0);","}"].join("\n"),a=["precision "+e.precision+" float;","","uniform sampler2D uColorBuffer;","uniform vec2 uResolution;","","#define FXAA_REDUCE_MIN   (1.0/128.0)","#define FXAA_REDUCE_MUL   (1.0/8.0)","#define FXAA_SPAN_MAX     8.0","","void main()","{","    vec3 rgbNW = texture2D( uColorBuffer, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * uResolution ).xyz;","    vec3 rgbNE = texture2D( uColorBuffer, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * uResolution ).xyz;","    vec3 rgbSW = texture2D( uColorBuffer, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * uResolution ).xyz;","    vec3 rgbSE = texture2D( uColorBuffer, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * uResolution ).xyz;","    vec4 rgbaM  = texture2D( uColorBuffer,  gl_FragCoord.xy  * uResolution );","    vec3 rgbM  = rgbaM.xyz;","    float opacity  = rgbaM.w;","","    vec3 luma = vec3( 0.299, 0.587, 0.114 );","","    float lumaNW = dot( rgbNW, luma );","    float lumaNE = dot( rgbNE, luma );","    float lumaSW = dot( rgbSW, luma );","    float lumaSE = dot( rgbSE, luma );","    float lumaM  = dot( rgbM,  luma );","    float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );","    float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );","","    vec2 dir;","    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","","    float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );","","    float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );","    dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX), max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX), dir * rcpDirMin)) * uResolution;","","    vec3 rgbA = 0.5 * (","        texture2D( uColorBuffer, gl_FragCoord.xy  * uResolution + dir * ( 1.0 / 3.0 - 0.5 ) ).xyz +","        texture2D( uColorBuffer, gl_FragCoord.xy  * uResolution + dir * ( 2.0 / 3.0 - 0.5 ) ).xyz );","","    vec3 rgbB = rgbA * 0.5 + 0.25 * (","        texture2D( uColorBuffer, gl_FragCoord.xy  * uResolution + dir * -0.5 ).xyz +","        texture2D( uColorBuffer, gl_FragCoord.xy  * uResolution + dir * 0.5 ).xyz );","","    float lumaB = dot( rgbB, luma );","","    if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )","    {","        gl_FragColor = vec4( rgbA, opacity );","    }","    else","    {","        gl_FragColor = vec4( rgbB, opacity );","    }","}"].join("\n");this.fxaaShader=new pc.Shader(e,{attributes:o,vshader:r,fshader:a}),this.resolution=new Float32Array(2)};return(e=pc.inherits(e,pc.PostEffect)).prototype=pc.extend(e.prototype,{render:function(e,o,r){var a=this.device,t=a.scope;this.resolution[0]=1/e.width,this.resolution[1]=1/e.height,t.resolve("uResolution").setValue(this.resolution),t.resolve("uColorBuffer").setValue(e.colorBuffer),pc.drawFullscreenQuad(a,o,this.vertexBuffer,this.fxaaShader,r)}}),{FxaaEffect:e}}());var Fxaa=pc.createScript("fxaa");Fxaa.prototype.initialize=function(){this.effect=new pc.FxaaEffect(this.app.graphicsDevice);var e=this.entity.camera.postEffects;e.addEffect(this.effect),this.on("state",function(o){o?e.addEffect(this.effect):e.removeEffect(this.effect)}),this.on("destroy",function(){e.removeEffect(this.effect)})};pc.extend(pc,function(){var e=function(e){var t={aPosition:pc.SEMANTIC_POSITION},i=["attribute vec2 aPosition;","","varying vec2 vUv0;","","void main(void)","{","    gl_Position = vec4(aPosition, 0.0, 1.0);","    vUv0 = (aPosition.xy + 1.0) * 0.5;","}"].join("\n"),s=["precision "+e.precision+" float;","","uniform sampler2D uColorBuffer;","uniform float uDarkness;","uniform float uOffset;","","varying vec2 vUv0;","","void main() {","    vec4 texel = texture2D(uColorBuffer, vUv0);","    vec2 uv = (vUv0 - vec2(0.5)) * vec2(uOffset);","    gl_FragColor = vec4(mix(texel.rgb, vec3(1.0 - uDarkness), dot(uv, uv)), texel.a);","}"].join("\n");this.vignetteShader=new pc.Shader(e,{attributes:t,vshader:i,fshader:s}),this.offset=1,this.darkness=1};return(e=pc.inherits(e,pc.PostEffect)).prototype=pc.extend(e,{render:function(e,t,i){var s=this.device,f=s.scope;f.resolve("uColorBuffer").setValue(e.colorBuffer),f.resolve("uOffset").setValue(this.offset),f.resolve("uDarkness").setValue(this.darkness),pc.drawFullscreenQuad(s,t,this.vertexBuffer,this.vignetteShader,i)}}),{VignetteEffect:e}}());var Vignette=pc.createScript("vignette");Vignette.attributes.add("offset",{type:"number",default:1,min:0,precision:5,title:"Offset"}),Vignette.attributes.add("darkness",{type:"number",default:1,precision:5,title:"Darkness"}),Vignette.prototype.initialize=function(){this.effect=new pc.VignetteEffect(this.app.graphicsDevice),this.effect.offset=this.offset,this.effect.darkness=this.darkness,this.on("attr",function(e,t){this.effect[e]=t},this);var e=this.entity.camera.postEffects;e.addEffect(this.effect),this.on("state",function(t){t?e.addEffect(this.effect):e.removeEffect(this.effect)}),this.on("destroy",function(){e.removeEffect(this.effect)})};pc.extend(pc,function(){var t=function(t){this.shader=new pc.Shader(t,{attributes:{aPosition:pc.SEMANTIC_POSITION},vshader:["attribute vec2 aPosition;","","varying vec2 vUv0;","","void main(void)","{","    gl_Position = vec4(aPosition, 0.0, 1.0);","    vUv0 = (aPosition.xy + 1.0) * 0.5;","}"].join("\n"),fshader:["precision "+t.precision+" float;","uniform sampler2D uColorBuffer;","uniform float uBrightness;","uniform float uContrast;","varying vec2 vUv0;","void main() {","gl_FragColor = texture2D( uColorBuffer, vUv0 );","gl_FragColor.rgb += uBrightness;","if (uContrast > 0.0) {","gl_FragColor.rgb = (gl_FragColor.rgb - 0.5) / (1.0 - uContrast) + 0.5;","} else {","gl_FragColor.rgb = (gl_FragColor.rgb - 0.5) * (1.0 + uContrast) + 0.5;","}","}"].join("\n")}),this.brightness=0,this.contrast=0};return(t=pc.inherits(t,pc.PostEffect)).prototype=pc.extend(t.prototype,{render:function(t,e,r){var s=this.device,i=s.scope;i.resolve("uBrightness").setValue(this.brightness),i.resolve("uContrast").setValue(this.contrast),i.resolve("uColorBuffer").setValue(t.colorBuffer),pc.drawFullscreenQuad(s,e,this.vertexBuffer,this.shader,r)}}),{BrightnessContrastEffect:t}}());var BrightnessContrast=pc.createScript("brightnessContrast");BrightnessContrast.attributes.add("brightness",{type:"number",default:0,min:-1,max:1,precision:5,title:"Brightness"}),BrightnessContrast.attributes.add("contrast",{type:"number",default:0,min:-1,max:1,precision:5,title:"Contrast"}),BrightnessContrast.prototype.initialize=function(){this.effect=new pc.BrightnessContrastEffect(this.app.graphicsDevice),this.effect.brightness=this.brightness,this.effect.contrast=this.contrast,this.on("attr",function(t,e){this.effect[t]=e},this);var t=this.entity.camera.postEffects;t.addEffect(this.effect),this.on("state",function(e){e?t.addEffect(this.effect):t.removeEffect(this.effect)}),this.on("destroy",function(){t.removeEffect(this.effect)})};pc.extend(pc,function(){var t=function(t){this.shader=new pc.Shader(t,{attributes:{aPosition:pc.SEMANTIC_POSITION},vshader:["attribute vec2 aPosition;","","varying vec2 vUv0;","","void main(void)","{","    gl_Position = vec4(aPosition, 0.0, 1.0);","    vUv0 = (aPosition.xy + 1.0) * 0.5;","}"].join("\n"),fshader:["precision "+t.precision+" float;","uniform sampler2D uColorBuffer;","uniform float uHue;","uniform float uSaturation;","varying vec2 vUv0;","void main() {","gl_FragColor = texture2D( uColorBuffer, vUv0 );","float angle = uHue * 3.14159265;","float s = sin(angle), c = cos(angle);","vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;","float len = length(gl_FragColor.rgb);","gl_FragColor.rgb = vec3(","dot(gl_FragColor.rgb, weights.xyz),","dot(gl_FragColor.rgb, weights.zxy),","dot(gl_FragColor.rgb, weights.yzx)",");","float average = (gl_FragColor.r + gl_FragColor.g + gl_FragColor.b) / 3.0;","if (uSaturation > 0.0) {","gl_FragColor.rgb += (average - gl_FragColor.rgb) * (1.0 - 1.0 / (1.001 - uSaturation));","} else {","gl_FragColor.rgb += (average - gl_FragColor.rgb) * (-uSaturation);","}","}"].join("\n")}),this.hue=0,this.saturation=0};return(t=pc.inherits(t,pc.PostEffect)).prototype=pc.extend(t.prototype,{render:function(t,e,r){var o=this.device,a=o.scope;a.resolve("uHue").setValue(this.hue),a.resolve("uSaturation").setValue(this.saturation),a.resolve("uColorBuffer").setValue(t.colorBuffer),pc.drawFullscreenQuad(o,e,this.vertexBuffer,this.shader,r)}}),{HueSaturationEffect:t}}());var HueSaturation=pc.createScript("hueSaturation");HueSaturation.attributes.add("hue",{type:"number",default:0,min:-1,max:1,precision:5,title:"Hue"}),HueSaturation.attributes.add("saturation",{type:"number",default:0,min:-1,max:1,precision:5,title:"Saturation"}),HueSaturation.prototype.initialize=function(){this.effect=new pc.HueSaturationEffect(this.app.graphicsDevice),this.effect.hue=this.hue,this.effect.saturation=this.saturation,this.on("attr",function(t,e){this.effect[t]=e},this);var t=this.entity.camera.postEffects;t.addEffect(this.effect),this.on("state",function(e){e?t.addEffect(this.effect):t.removeEffect(this.effect)}),this.on("destroy",function(){t.removeEffect(this.effect)})};pc.extend(pc,function(){var e=15;function computeGaussian(e,t){return 1/Math.sqrt(2*Math.PI*t)*Math.exp(-e*e/(2*t*t))}function calculateBlurValues(t,s,r,o,i){t[0]=computeGaussian(0,i),s[0]=0,s[1]=0;var a,l,u=t[0];for(a=0,l=Math.floor(e/2);a<l;a++){var h=computeGaussian(a+1,i);t[2*a]=h,t[2*a+1]=h,u+=2*h;var n=2*a+1.5;s[4*a]=r*n,s[4*a+1]=o*n,s[4*a+2]=-r*n,s[4*a+3]=-o*n}for(a=0,l=t.length;a<l;a++)t[a]/=u}var t=function(t){var s={aPosition:pc.SEMANTIC_POSITION},r=["attribute vec2 aPosition;","","varying vec2 vUv0;","","void main(void)","{","    gl_Position = vec4(aPosition, 0.0, 1.0);","    vUv0 = (aPosition + 1.0) * 0.5;","}"].join("\n"),o=["precision "+t.precision+" float;","","varying vec2 vUv0;","","uniform sampler2D uBaseTexture;","uniform float uBloomThreshold;","","void main(void)","{","    vec4 color = texture2D(uBaseTexture, vUv0);","","    gl_FragColor = clamp((color - uBloomThreshold) / (1.0 - uBloomThreshold), 0.0, 1.0);","}"].join("\n"),i=["precision "+t.precision+" float;","","#define SAMPLE_COUNT "+e,"","varying vec2 vUv0;","","uniform sampler2D uBloomTexture;","uniform vec2 uBlurOffsets[SAMPLE_COUNT];","uniform float uBlurWeights[SAMPLE_COUNT];","","void main(void)","{","    vec4 color = vec4(0.0);","    for (int i = 0; i < SAMPLE_COUNT; i++)","    {","        color += texture2D(uBloomTexture, vUv0 + uBlurOffsets[i]) * uBlurWeights[i];","    }","","    gl_FragColor = color;","}"].join("\n"),a=["precision "+t.precision+" float;","","varying vec2 vUv0;","","uniform float uBloomEffectIntensity;","uniform sampler2D uBaseTexture;","uniform sampler2D uBloomTexture;","","void main(void)","{","    vec4 bloom = texture2D(uBloomTexture, vUv0) * uBloomEffectIntensity;","    vec4 base = texture2D(uBaseTexture, vUv0);","","    base *= (1.0 - clamp(bloom, 0.0, 1.0));","","    gl_FragColor = base + bloom;","}"].join("\n");this.extractShader=new pc.Shader(t,{attributes:s,vshader:r,fshader:o}),this.blurShader=new pc.Shader(t,{attributes:s,vshader:r,fshader:i}),this.combineShader=new pc.Shader(t,{attributes:s,vshader:r,fshader:a});var l=t.width,u=t.height;this.targets=[];for(var h=0;h<2;h++){var n=new pc.Texture(t,{format:pc.PIXELFORMAT_R8_G8_B8_A8,width:l>>1,height:u>>1});n.minFilter=pc.FILTER_LINEAR,n.magFilter=pc.FILTER_LINEAR,n.addressU=pc.ADDRESS_CLAMP_TO_EDGE,n.addressV=pc.ADDRESS_CLAMP_TO_EDGE;var f=new pc.RenderTarget(t,n,{depth:!1});this.targets.push(f)}this.bloomThreshold=.25,this.blurAmount=4,this.bloomIntensity=1.25,this.sampleWeights=new Float32Array(e),this.sampleOffsets=new Float32Array(2*e)};return(t=pc.inherits(t,pc.PostEffect)).prototype=pc.extend(t.prototype,{render:function(e,t,s){var r=this.device,o=r.scope;o.resolve("uBloomThreshold").setValue(this.bloomThreshold),o.resolve("uBaseTexture").setValue(e.colorBuffer),pc.drawFullscreenQuad(r,this.targets[0],this.vertexBuffer,this.extractShader),calculateBlurValues(this.sampleWeights,this.sampleOffsets,1/this.targets[1].width,0,this.blurAmount),o.resolve("uBlurWeights[0]").setValue(this.sampleWeights),o.resolve("uBlurOffsets[0]").setValue(this.sampleOffsets),o.resolve("uBloomTexture").setValue(this.targets[0].colorBuffer),pc.drawFullscreenQuad(r,this.targets[1],this.vertexBuffer,this.blurShader),calculateBlurValues(this.sampleWeights,this.sampleOffsets,0,1/this.targets[0].height,this.blurAmount),o.resolve("uBlurWeights[0]").setValue(this.sampleWeights),o.resolve("uBlurOffsets[0]").setValue(this.sampleOffsets),o.resolve("uBloomTexture").setValue(this.targets[1].colorBuffer),pc.drawFullscreenQuad(r,this.targets[0],this.vertexBuffer,this.blurShader),o.resolve("uBloomEffectIntensity").setValue(this.bloomIntensity),o.resolve("uBloomTexture").setValue(this.targets[0].colorBuffer),o.resolve("uBaseTexture").setValue(e.colorBuffer),pc.drawFullscreenQuad(r,t,this.vertexBuffer,this.combineShader,s)}}),{BloomEffect:t}}());var Bloom=pc.createScript("bloom");Bloom.attributes.add("bloomIntensity",{type:"number",default:1,min:0,title:"Intensity"}),Bloom.attributes.add("bloomThreshold",{type:"number",default:.25,min:0,max:1,precision:2,title:"Threshold"}),Bloom.attributes.add("blurAmount",{type:"number",default:4,min:1,title:"Blur amount"}),Bloom.prototype.initialize=function(){this.effect=new pc.BloomEffect(this.app.graphicsDevice),this.effect.bloomThreshold=this.bloomThreshold,this.effect.blurAmount=this.blurAmount,this.effect.bloomIntensity=this.bloomIntensity;var e=this.entity.camera.postEffects;e.addEffect(this.effect),this.on("attr",function(e,t){this.effect[e]=t},this),this.on("state",function(t){t?e.addEffect(this.effect):e.removeEffect(this.effect)}),this.on("destroy",function(){e.removeEffect(this.effect)})};pc.extend(pc,function(){var t=function(t){this._app=t,this._tweens=[],this._add=[]};t.prototype={add:function(t){return this._add.push(t),t},update:function(t){for(var i=0,e=this._tweens.length;i<e;)this._tweens[i].update(t)?i++:(this._tweens.splice(i,1),e--);this._add.length&&(this._tweens=this._tweens.concat(this._add),this._add.length=0)}};var i=function(t,i,e){pc.events.attach(this),this.manager=i,e&&(this.entity=null),this.time=0,this.complete=!1,this.playing=!1,this.stopped=!0,this.pending=!1,this.target=t,this.duration=0,this._currentDelay=0,this.timeScale=1,this._reverse=!1,this._delay=0,this._yoyo=!1,this._count=0,this._numRepeats=0,this._repeatDelay=0,this._from=!1,this._slerp=!1,this._fromQuat=new pc.Quat,this._toQuat=new pc.Quat,this._quat=new pc.Quat,this.easing=pc.Linear,this._sv={},this._ev={}},e=function(t){var i;return t instanceof pc.Vec2?i={x:t.x,y:t.y}:t instanceof pc.Vec3?i={x:t.x,y:t.y,z:t.z}:t instanceof pc.Vec4?i={x:t.x,y:t.y,z:t.z,w:t.w}:t instanceof pc.Quat?i={x:t.x,y:t.y,z:t.z,w:t.w}:t instanceof pc.Color?(i={r:t.r,g:t.g,b:t.b},void 0!==t.a&&(i.a=t.a)):i=t,i};i.prototype={to:function(t,i,n,s,r,h){return this._properties=e(t),this.duration=i,n&&(this.easing=n),s&&this.delay(s),r&&this.repeat(r),h&&this.yoyo(h),this},from:function(t,i,n,s,r,h){return this._properties=e(t),this.duration=i,n&&(this.easing=n),s&&this.delay(s),r&&this.repeat(r),h&&this.yoyo(h),this._from=!0,this},rotate:function(t,i,n,s,r,h){return this._properties=e(t),this.duration=i,n&&(this.easing=n),s&&this.delay(s),r&&this.repeat(r),h&&this.yoyo(h),this._slerp=!0,this},start:function(){var t,i,e,n;if(this.playing=!0,this.complete=!1,this.stopped=!1,this._count=0,this.pending=this._delay>0,this._reverse&&!this.pending?this.time=this.duration:this.time=0,this._from){for(t in this._properties)this._properties.hasOwnProperty(t)&&(this._sv[t]=this._properties[t],this._ev[t]=this.target[t]);this._slerp&&(this._toQuat.setFromEulerAngles(this.target.x,this.target.y,this.target.z),i=void 0!==this._properties.x?this._properties.x:this.target.x,e=void 0!==this._properties.y?this._properties.y:this.target.y,n=void 0!==this._properties.z?this._properties.z:this.target.z,this._fromQuat.setFromEulerAngles(i,e,n))}else{for(t in this._properties)this._properties.hasOwnProperty(t)&&(this._sv[t]=this.target[t],this._ev[t]=this._properties[t]);this._slerp&&(this._fromQuat.setFromEulerAngles(this.target.x,this.target.y,this.target.z),i=void 0!==this._properties.x?this._properties.x:this.target.x,e=void 0!==this._properties.y?this._properties.y:this.target.y,n=void 0!==this._properties.z?this._properties.z:this.target.z,this._toQuat.setFromEulerAngles(i,e,n))}return this._currentDelay=this._delay,this.manager.add(this),this},pause:function(){this.playing=!1},resume:function(){this.playing=!0},stop:function(){this.playing=!1,this.stopped=!0},delay:function(t){return this._delay=t,this.pending=!0,this},repeat:function(t,i){return this._count=0,this._numRepeats=t,this._repeatDelay=i||0,this},loop:function(t){return t?(this._count=0,this._numRepeats=1/0):this._numRepeats=0,this},yoyo:function(t){return this._yoyo=t,this},reverse:function(){return this._reverse=!this._reverse,this},chain:function(){for(var t=arguments.length;t--;)t>0?arguments[t-1]._chained=arguments[t]:this._chained=arguments[t];return this},update:function(t){if(this.stopped)return!1;if(!this.playing)return!0;if(!this._reverse||this.pending?this.time+=t*this.timeScale:this.time-=t*this.timeScale,this.pending){if(!(this.time>this._currentDelay))return!0;this._reverse?this.time=this.duration-(this.time-this._currentDelay):this.time=this.time-this._currentDelay,this.pending=!1}var i=0;(!this._reverse&&this.time>this.duration||this._reverse&&this.time<0)&&(this._count++,this.complete=!0,this.playing=!1,this._reverse?(i=this.duration-this.time,this.time=0):(i=this.time-this.duration,this.time=this.duration));var e,n,s=0===this.duration?1:this.time/this.duration,r=this.easing(s);for(var h in this._properties)this._properties.hasOwnProperty(h)&&(e=this._sv[h],n=this._ev[h],this.target[h]=e+(n-e)*r);if(this._slerp&&this._quat.slerp(this._fromQuat,this._toQuat,r),this.entity&&(this.entity._dirtifyLocal(),this.element&&this.entity.element&&(this.entity.element[this.element]=this.target),this._slerp&&this.entity.setLocalRotation(this._quat)),this.fire("update",t),this.complete){var a=this._repeat(i);return a?this.fire("loop"):(this.fire("complete",i),this.entity&&this.entity.off("destroy",this.stop,this),this._chained&&this._chained.start()),a}return!0},_repeat:function(t){if(this._count<this._numRepeats){if(this._reverse?this.time=this.duration-t:this.time=t,this.complete=!1,this.playing=!0,this._currentDelay=this._repeatDelay,this.pending=!0,this._yoyo){for(var i in this._properties){var e=this._sv[i];this._sv[i]=this._ev[i],this._ev[i]=e}this._slerp&&(this._quat.copy(this._fromQuat),this._fromQuat.copy(this._toQuat),this._toQuat.copy(this._quat))}return!0}return!1}};var n=function(t){return 1-s(1-t)},s=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};return{TweenManager:t,Tween:i,Linear:function(t){return t},QuadraticIn:function(t){return t*t},QuadraticOut:function(t){return t*(2-t)},QuadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},CubicIn:function(t){return t*t*t},CubicOut:function(t){return--t*t*t+1},CubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},QuarticIn:function(t){return t*t*t*t},QuarticOut:function(t){return 1- --t*t*t*t},QuarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},QuinticIn:function(t){return t*t*t*t*t},QuinticOut:function(t){return--t*t*t*t*t+1},QuinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},SineIn:function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)},SineOut:function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)},SineInOut:function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))},ExponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},ExponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},ExponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},CircularIn:function(t){return 1-Math.sqrt(1-t*t)},CircularOut:function(t){return Math.sqrt(1- --t*t)},CircularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},BackIn:function(t){return t*t*(2.70158*t-1.70158)},BackOut:function(t){return--t*t*(2.70158*t+1.70158)+1},BackInOut:function(t){var i=2.5949095;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)},BounceIn:n,BounceOut:s,BounceInOut:function(t){return t<.5?.5*n(2*t):.5*s(2*t-1)+.5},ElasticIn:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/.4))},ElasticOut:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-i)*(2*Math.PI)/.4)+1)},ElasticInOut:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/.4)*.5+1)}}}()),function(){pc.Application.prototype.addTweenManager=function(){this._tweenManager=new pc.TweenManager(this),this.on("update",function(t){this._tweenManager.update(t)})},pc.Application.prototype.tween=function(t){return new pc.Tween(t,this._tweenManager)},pc.Entity.prototype.tween=function(t,i){var e=this._app.tween(t);return e.entity=this,this.once("destroy",e.stop,e),i&&i.element&&(e.element=i.element),e};var t=pc.Application.getApplication();t&&t.addTweenManager()}();var ResetButton=pc.createScript("resetButton");ResetButton.prototype.initialize=function(t){this.entity.element.on("touchstart",this.onPress,this),this.entity.element.on("mousedown",this.onPress,this)},ResetButton.prototype.onPress=function(t){ResetButton.prototype.loadScene()},ResetButton.prototype.loadScene=function(){window.location.assign("https://launch.playcanvas.com/987595")};var ChangingScenes=pc.createScript("changingScenes");ChangingScenes.attributes.add("sceneName",{type:"string",default:"",title:"Scene Name to Load"}),ChangingScenes.prototype.initialize=function(e){console.log(this.app)},ChangingScenes.prototype.loadScene=function(e){this.app.root.findByName("Root")};var Gamepad=pc.createScript("gamepad");Gamepad.attributes.add("leftButton",{type:"entity",default:"",title:"Left Button"}),Gamepad.attributes.add("rightButton",{type:"entity",default:"",title:"Right Button"}),Gamepad.attributes.add("upButton",{type:"entity",default:"",title:"Up Button"}),Gamepad.attributes.add("downButton",{type:"entity",default:"",title:"Down Button"}),Gamepad.attributes.add("jumpButton",{type:"entity",default:"",title:"Jump Button"}),Gamepad.attributes.add("leftDirection",{type:"vec3",default:[0,0,0],title:"Direction to move left"}),Gamepad.attributes.add("rightDirection",{type:"vec3",default:[0,0,0],title:"Direction to move right"}),Gamepad.attributes.add("upDirection",{type:"vec3",default:[0,0,0],title:"Direction to move up"}),Gamepad.attributes.add("downDirection",{type:"vec3",default:[0,0,0],title:"Direction to move down"}),Gamepad.attributes.add("jetpackSpeed",{type:"number",default:1,title:"Jetpack speed"}),Gamepad.attributes.add("jetpackFire",{type:"entity",default:"",title:"Jetpack fire"}),Gamepad.attributes.add("player",{type:"entity",default:"",title:"Player"}),Gamepad.attributes.add("body",{type:"entity",default:"",title:"Rotating body"});var isJumpAllowed,force,isLeftButtonPressed=!1,isRightButtonPressed=!1,isUpButtonPressed=!1,isDownButtonPressed=!1,isJumpButtonPressed=!1;Gamepad.prototype.initialize=function(){this.leftButton.element.on("mousedown",this.onLeftPress,this),this.leftButton.element.on("mouseup",this.onLeftRelease,this),this.leftButton.element.on("touchstart",this.onLeftPress,this),this.leftButton.element.on("touchend",this.onLeftRelease,this),this.rightButton.element.on("mousedown",this.onRightPress,this),this.rightButton.element.on("mouseup",this.onRightRelease,this),this.rightButton.element.on("touchstart",this.onRightPress,this),this.rightButton.element.on("touchend",this.onRightRelease,this),this.upButton.element.on("mousedown",this.onUpPress,this),this.upButton.element.on("mouseup",this.onUpRelease,this),this.upButton.element.on("touchstart",this.onUpPress,this),this.upButton.element.on("touchend",this.onUpRelease,this),this.downButton.element.on("mousedown",this.onDownPress,this),this.downButton.element.on("mouseup",this.onDownRelease,this),this.downButton.element.on("touchstart",this.onDownPress,this),this.downButton.element.on("touchend",this.onDownRelease,this),this.jumpButton.element.on("mousedown",this.onJumpPress,this),this.jumpButton.element.on("mouseup",this.onJumpRelease,this),this.jumpButton.element.on("touchstart",this.onJumpPress,this),this.jumpButton.element.on("touchend",this.onJumpRelease,this),this.force=new pc.Vec3},Gamepad.prototype.update=function(t){var e=this.player.rigidbody,o=this.body.getLocalEulerAngles();this.player.getEulerAngles();isLeftButtonPressed&&(e.applyForce(this.leftDirection),this.body.setLocalEulerAngles(o.x,(1.5*o.y-45)/2,o.z)),isRightButtonPressed&&(e.applyForce(this.rightDirection),this.body.setLocalEulerAngles(o.x,(1.5*o.y+45)/2,o.z)),isUpButtonPressed&&(e.applyForce(this.upDirection),this.body.setLocalEulerAngles(0,(360-o.y)/2,0)),isDownButtonPressed&&(e.applyForce(this.downDirection),this.body.setLocalEulerAngles(0,1.5*o.y/2,0)),isJumpButtonPressed&&this.isJumpAllowed&&(this.force.copy(this.body.up).scale(this.jetpackSpeed),e.applyForce(this.force))},Gamepad.prototype.onLeftPress=function(t){this.app.fire("player:move"),isLeftButtonPressed=!0,isRightButtonPressed=!1,isUpButtonPressed=!1,isDownButtonPressed=!1,this.player.rigidbody.teleport(this.player.localPosition.x,this.player.localPosition.y,this.player.localPosition.z,this.body.rotation.x,this.body.rotation.y,this.body.rotation.z)},Gamepad.prototype.onLeftRelease=function(t){this.releaseDirectionalButtons()},Gamepad.prototype.onRightPress=function(t){this.app.fire("player:move"),isRightButtonPressed=!0,isLeftButtonPressed=!1,isUpButtonPressed=!1,isDownButtonPressed=!1,this.player.rigidbody.teleport(this.player.localPosition.x,this.player.localPosition.y,this.player.localPosition.z,this.body.rotation.x,this.body.rotation.y,this.body.rotation.z)},Gamepad.prototype.onRightRelease=function(t){this.releaseDirectionalButtons()},Gamepad.prototype.onUpPress=function(t){this.app.fire("player:move"),isUpButtonPressed=!0,isLeftButtonPressed=!1,isRightButtonPressed=!1,isDownButtonPressed=!1,this.player.rigidbody.teleport(this.player.localPosition.x,this.player.localPosition.y,this.player.localPosition.z,this.body.rotation.x,this.body.rotation.y,this.body.rotation.z)},Gamepad.prototype.onUpRelease=function(t){this.releaseDirectionalButtons()},Gamepad.prototype.onDownPress=function(t){this.app.fire("player:move"),isDownButtonPressed=!0,isLeftButtonPressed=!1,isRightButtonPressed=!1,isUpButtonPressed=!1,this.player.rigidbody.teleport(this.player.localPosition.x,this.player.localPosition.y,this.player.localPosition.z,this.body.rotation.x,this.body.rotation.y,this.body.rotation.z)},Gamepad.prototype.onDownRelease=function(t){this.releaseDirectionalButtons()},Gamepad.prototype.onJumpPress=function(t){isJumpButtonPressed=!0,this.jetpackFire.enabled=!0},Gamepad.prototype.onJumpRelease=function(t){isJumpButtonPressed=!1,this.jetpackFire.enabled=!1},Gamepad.prototype.releaseDirectionalButtons=function(){this.app.fire("player:endMove"),isDownButtonPressed=!1,isLeftButtonPressed=!1,isRightButtonPressed=!1,isUpButtonPressed=!1};var camera,CameraFrustumChecker=pc.createScript("cameraFrustumChecker");CameraFrustumChecker.attributes.add("entityToCheck",{type:"entity",default:"",title:"Entity To Check If In View"}),CameraFrustumChecker.attributes.add("entityToCheck_2",{type:"entity",default:"",title:"Optional Entity 2"}),CameraFrustumChecker.attributes.add("respawnPoint",{type:"vec3",default:[0,0,0],title:"Respawn Point if Entity Moves Out of View"});var entity1CanTeleport=!0,entity2CanTeleport=!0;CameraFrustumChecker.prototype.initialize=function(){camera=this.entity.camera},CameraFrustumChecker.prototype.update=function(t){!camera.frustum.containsPoint(this.entityToCheck.localPosition)&&entity1CanTeleport?(this.entityToCheck.rigidbody.teleport(this.respawnPoint,180,0,0),this.entityToCheck.rigidbody.linearVelocity=pc.Vec3.ZERO,this.entityToCheck.rigidbody.angularVelocity=pc.Vec3.ZERO,entity1CanTeleport=!1):camera.frustum.containsPoint(this.entityToCheck.localPosition)&&(entity1CanTeleport=!0),this.entityToCheck_2&&this.checkEntity(this.entityToCheck_2,entity2CanTeleport)},CameraFrustumChecker.prototype.checkEntity=function(t,e){!camera.frustum.containsPoint(t.localPosition)&&e?(t.rigidbody.teleport(this.respawnPoint),t.rigidbody.linearVelocity=pc.Vec3.ZERO,t.rigidbody.angularVelocity=pc.Vec3.ZERO,e=!1):camera.frustum.containsPoint(t.localPosition)&&(e=!0)};var leftLegTweenRotation,rightLegTweenRotation,PlayerWalk=pc.createScript("playerWalk");PlayerWalk.attributes.add("leftLeg",{type:"entity",default:"",title:"Left leg pivot"}),PlayerWalk.attributes.add("rightLeg",{type:"entity",default:"",title:"Right leg pivot"}),PlayerWalk.prototype.initialize=function(){leftLegTweenRotation=this.leftLeg.script.tweenRotation,rightLegTweenRotation=this.rightLeg.script.tweenRotation,this.app.on("player:move",this.startWalk,this),this.app.on("player:endMove",this.endWalk,this),leftLegTweenRotation.endWalk(),rightLegTweenRotation.endWalk()},PlayerWalk.prototype.startWalk=function(t){leftLegTweenRotation.startWalk(-25,0,0,25,0,0),rightLegTweenRotation.startWalk(-25,0,0,25,0,0)},PlayerWalk.prototype.endWalk=function(t){leftLegTweenRotation.endWalk(),rightLegTweenRotation.endWalk()};var force,Jetpack=pc.createScript("jetpack");Jetpack.attributes.add("equippedJetpack",{type:"entity",default:"",title:"Equipped Jetpack"}),Jetpack.attributes.add("gamepad",{type:"entity",default:"",title:"Gamepad"}),Jetpack.attributes.add("jetpackButton",{type:"entity",default:"",title:"Jetpack button"}),Jetpack.attributes.add("jetpackText",{type:"entity",default:"",title:"Jetpack text"}),Jetpack.attributes.add("botherText",{type:"entity",default:"",title:"Bother text"}),Jetpack.attributes.add("jetpackModels",{type:"entity",default:"",title:"Jetpack model container"}),Jetpack.prototype.initialize=function(){this.entity.collision.on("collisionstart",this.onCollisionStart,this),this.force=new pc.Vec3},Jetpack.prototype.update=function(t){this.force.copy(this.entity.up).scale(5),this.entity.rigidbody.applyForce(this.force),this.entity.rigidbody.applyTorque(.5,0,pc.math.random(0,1))},Jetpack.prototype.onCollisionStart=function(t){t.other.rigidbody&&"Player"==t.other.name&&(this.equippedJetpack.enabled=!0,this.jetpackButton.enabled=!0,this.gamepad.script.gamepad.isJumpAllowed=!0,this.jetpackModels.destroy(),this.botherText.enabled=!0,this.app.root.findByName("ToDoList").script.toDoList.jetpackDone())};var Rotator=pc.createScript("rotator");Rotator.prototype.update=function(t){this.entity.rotateLocal(0,1,0)};var starRating,JobSatisfactionTracker=pc.createScript("jobSatisfactionTracker");JobSatisfactionTracker.attributes.add("starText",{type:"entity",default:"",title:"Stars"}),JobSatisfactionTracker.attributes.add("descriptionText",{type:"entity",default:"",title:"Description"}),JobSatisfactionTracker.attributes.add("thudSound",{type:"entity",default:"",title:"Thud Sound"});var fiveStarText='"A delightful place to work. Great benefits and a lovely, inclusive culture. Competitive pay."',fourStarText='"A pretty cool workplace. Company culture can be a little too silly sometimes."',threeStarText='"A fine place to wait out a terrible job market. Management values cool technology over good ideas."',twoStarText='"Tech bros are disruptive without consequences. Hard to concentrate at work."',oneStarText='"One of my coworkers keeps flying into me with a jetpack."';JobSatisfactionTracker.prototype.initialize=function(){starRating=5,this.descriptionText.element.text=fiveStarText},JobSatisfactionTracker.prototype.subtractFromRating=function(t){starRating-=t,this.thudSound.sound.play("Thud"),this.starText.script.tweenRotation.startWalk(0,0,-5,0,0,5),starRating>4.5?(this.starText.element.text="*****",this.descriptionText.element.text=fiveStarText):starRating>3.5?(this.starText.element.text="****",this.descriptionText.element.text=fourStarText):starRating>2.5?(this.starText.element.text="***",this.descriptionText.element.text=threeStarText):starRating>1.5?(this.starText.element.text="**",this.descriptionText.element.text=twoStarText):starRating>.5&&(this.starText.element.text="*",this.descriptionText.element.text=oneStarText,this.app.root.findByName("ToDoList").script.toDoList.botherCoworkersDone())};var ComputerInterface=pc.createScript("computerInterface");ComputerInterface.attributes.add("introScreen",{type:"entity",default:"",title:"Intro screen"}),ComputerInterface.attributes.add("yesButton",{type:"entity",default:"",title:"Yes Button"}),ComputerInterface.attributes.add("noButton",{type:"entity",default:"",title:"No Button"}),ComputerInterface.attributes.add("promptScreen",{type:"entity",default:"",title:"Prompt Screen"}),ComputerInterface.attributes.add("promptText",{type:"entity",default:"",title:"Prompt Text"}),ComputerInterface.attributes.add("playerChoiceButtons",{type:"entity",array:!0,default:[""],title:"Player Choice Buttons"}),ComputerInterface.attributes.add("playerChoiceTexts",{type:"entity",array:!0,default:[""],title:"Player Choice Texts"}),ComputerInterface.attributes.add("correctAnswerScreen",{type:"entity",default:"",title:"Correct Answer Screen"}),ComputerInterface.attributes.add("correctAnswerText",{type:"entity",default:"",title:"Correct Answer Text"}),ComputerInterface.attributes.add("correctAnswerButton",{type:"entity",default:"",title:"Correct Answer Button"}),ComputerInterface.attributes.add("anotherTaskButton",{type:"entity",default:"",title:"Another Task Button"}),ComputerInterface.attributes.add("youDiedScreen",{type:"entity",default:"",title:"You Died Screen"}),ComputerInterface.attributes.add("reconsituteFrozenCloneButton",{type:"entity",default:"",title:"Reconstitute Frozen Clone Button"}),ComputerInterface.attributes.add("codingChair",{type:"entity",default:"",title:"Coding Chair"});var prompts=["BUILD A WEBSITE THAT ALLOWS DOGS TO PURCHASE FUN TOYS AND TREATS USING THEIR OWNERS' CREDIT CARDS.","DEVELOP THE FIRMWARE FOR A MICROWAVE THAT FEELS PAIN.","CREATE SOMETHING AI. DOESN'T MATTER WHAT. ANY AI IS GOOD. TRY NOT TO MAKE IT EVIL, BUT IT'S OKAY IF IT IS EVIL AS LONG AS IT IS ALSO AI.","STEAL AN OPEN SOURCE PROJECT. PRETEND YOU MADE IT YOURSELF. WE PROMISE YOU WON'T GET IN TROUBLE. WINK.","MAKE A VIDEO GAME WHERE IF YOU DIE IN THE GAME, YOU DIE IN REAL LIFE... BUT WITH LOOTBOXES.","BUILD A CRITICAL FEATURE THAT WE REALLY NEED RIGHT NOW. MANAGEMENT ESTIMATES THAT IT WILL ONLY TAKE ONE WEEK TO DO.","DEVELOP AN EDUCATIONAL MEDICAL APP THAT IS SECRETLY AN ADVERTISEMENT FOR A MULTI-LEVEL MARKETING SCHEME SELLING SEAWEED BODY WRAPS.","MANAGE A PROJECT IN WHICH YOU'VE SWAPPED YOUR FRONT- AND BACK-END DEVELOPERS. A UX RESEARCHER DOES ALL THE GRAPHIC DESIGN.","CREATE AN AMAZON CLONE, BUT WAY EVIL-ER.","BUILD AN APP THAT INVESTS YOUR EXCESS CHANGE IN A KICKSTARTER TO BUY NICOLAS CAGE HIS DINOSAUR SKULLS BACK AFTER THEY GOT REPOSSESSED.","COMPLETE PERFORMANCE REVIEW OF THE HIGH SCHOOL INTERN WHO HANDLES THE STORAGE OF OUR PLAINTEXT LOGIN INFO."],incorrectResponses=["This seems like a bad idea...","Isn't this unethical?","[Go to the police.]","[Surf the 'net for sixteen hours.]","[BURNOUT! Accomplish nothing today.]","I'm not convinced this is feasible.","Think of the children!","Should we really be doing this?","[Do a bad job on purpose so they stop asking for things like this.]","[Pretend to work while you fill out job applications.]","[Become AWS certified instead.]","[Code the whole thing in PHP just to feel something.]","[Just make it with SquareSpace. No one will know.]","I'd like to push back on some of the assumptions here.","No can do, boss!"],correctResponses=["[Complete the requested project without asking any questions.]","Yes boss. [Do the requested thing.]","[Pull four all nighters in a row to get this done.]","[Do all your work and also all your coworker's.]"],goodJobAnswers=["Nicely done! Isn't it cool that every other workplace is worse than this one? Ha ha, yeah...","Not bad, but it would have been better with more... [waves hands vaguely]","Great job! As a reward for your hard work, your boss has given himself a raise."];ComputerInterface.prototype.initialize=function(){this.yesButton.element.on("mousedown",this.onYesButtonPress,this),this.noButton.element.on("mousedown",this.gameOver,this),this.correctAnswerButton.element.on("mousedown",this.onThankYou,this),this.yesButton.element.on("touchend",this.onYesButtonPress,this),this.noButton.element.on("touchend",this.gameOver,this),this.correctAnswerButton.element.on("touchend",this.onThankYou,this),this.anotherTaskButton.element.on("mousedown",this.onYesButtonPress,this),this.anotherTaskButton.element.on("touchend",this.onYesButtonPress,this),this.reconsituteFrozenCloneButton.element.on("mousedown",this.onReconstituteFrozenCloneButtonPress,this),this.reconsituteFrozenCloneButton.element.on("touchend",this.onReconstituteFrozenCloneButtonPress,this),this.introScreen.enabled=!0,this.promptScreen.enabled=!1,this.correctAnswerScreen.enabled=!1,this.youDiedScreen.enabled=!1},ComputerInterface.prototype.setPrompt=function(){var e=pc.math.random(0,prompts.length-1).toFixed(0),t=prompts[e];console.log("prompt ID = "+e),this.promptText.element.text=t,this.playerChoiceButtons.forEach(function(e){e.element.off("touchend",this.gameOver,this),e.element.off("touchend",this.onCorrectAnswer,this),e.element.off("mousedown",this.gameOver,this),e.element.off("mousedown",this.onCorrectAnswer,this)});var o=pc.math.random(0,this.playerChoiceButtons.length-1).toFixed(0);for(console.log(o),i=0;i<this.playerChoiceButtons.length;i++)if(i!=o){this.playerChoiceButtons[i].element.on("mousedown",this.gameOver,this),this.playerChoiceButtons[i].element.on("touchend",this.gameOver,this);var n=pc.math.random(0,incorrectResponses.length-1).toFixed(0);this.playerChoiceTexts[i].element.text=incorrectResponses[n]}else{this.playerChoiceButtons[i].element.on("mousedown",this.onCorrectAnswer,this),this.playerChoiceButtons[i].element.on("touchend",this.onCorrectAnswer,this);var r=pc.math.random(0,correctResponses.length-1).toFixed(0);this.playerChoiceTexts[i].element.text=correctResponses[r]}},ComputerInterface.prototype.onYesButtonPress=function(){this.introScreen.enabled=!1,this.promptScreen.enabled=!0,this.correctAnswerScreen.enabled=!1,this.youDiedScreen.enabled=!1,this.setPrompt()},ComputerInterface.prototype.onCorrectAnswer=function(){this.promptScreen.enabled=!1,this.correctAnswerText.element.text=goodJobAnswers[pc.math.random(0,goodJobAnswers.length-1).toFixed(0)],this.correctAnswerScreen.enabled=!0},ComputerInterface.prototype.onThankYou=function(){this.correctAnswerScreen.enabled=!1,this.introScreen.enabled=!0,this.codingChair.script.codingChair.onExitButtonPress(),this.app.root.findByName("ToDoList").script.toDoList.codeDone()},ComputerInterface.prototype.gameOver=function(){this.introScreen.enabled=!1,this.promptScreen.enabled=!1,this.youDiedScreen.enabled=!0},ComputerInterface.prototype.onReconstituteFrozenCloneButtonPress=function(){window.location.assign("https://launch.playcanvas.com/987595")};var CodingChair=pc.createScript("codingChair");CodingChair.attributes.add("seatedPlayer",{type:"entity",default:"",title:"Seated Player"}),CodingChair.attributes.add("playerBody",{type:"entity",default:"",title:"Player body for deactivation"}),CodingChair.attributes.add("codeInterface",{type:"entity",default:"",title:"2D coding interface"}),CodingChair.attributes.add("exitButton",{type:"entity",default:"",title:"Code exit button"}),CodingChair.prototype.initialize=function(){this.exitButton.element.on("mousedown",this.onExitButtonPress,this),this.entity.collision.on("collisionstart",this.onCollisionStart,this),this.seatedPlayer.enabled=!1,this.codeInterface.enabled=!1},CodingChair.prototype.onCollisionStart=function(t){t.other.rigidbody&&"Player"==t.other.name&&(this.seatedPlayer.enabled=!0,this.playerBody.enabled=!1,this.codeInterface.enabled=!0)},CodingChair.prototype.onExitButtonPress=function(){this.seatedPlayer.enabled=!1,this.playerBody.enabled=!0,this.codeInterface.enabled=!1};var ToDoList=pc.createScript("toDoList");ToDoList.attributes.add("jetpackText",{type:"entity",default:"",title:"Jetpack Text"}),ToDoList.attributes.add("codeText",{type:"entity",default:"",title:"Code Text"}),ToDoList.attributes.add("botherCoworkersText",{type:"entity",default:"",title:"Bother Coworkers Text"}),ToDoList.attributes.add("winScreen",{type:"entity",default:"",title:"Win Screen"}),ToDoList.attributes.add("resetOnWinButton",{type:"entity",default:"",title:"Reset On Win Button"}),ToDoList.attributes.add("continueOnWinButton",{type:"entity",default:"",title:"Continue On Win Button"}),ToDoList.attributes.add("okayHereIsYourSwordScreen",{type:"entity",default:"",title:"Okay Here Is Your Sword Screen"}),ToDoList.attributes.add("sweetButton",{type:"entity",default:"",title:"Button That Just Says 'SICK'"}),ToDoList.attributes.add("sickSword",{type:"entity",default:"",title:"Sword"});var isJetpackDone=!1,isCodeDone=!1,areCoworkersBothered=!1,alreadyWon=!1;ToDoList.prototype.initialize=function(){this.resetOnWinButton.element.on("mousedown",this.resetOnWin,this),this.continueOnWinButton.element.on("mousedown",this.openCoolSwordScreen,this),this.sweetButton.element.on("mousedown",this.giveCoolSword,this),this.resetOnWinButton.element.on("touchend",this.resetOnWin,this),this.continueOnWinButton.element.on("touchend",this.openCoolSwordScreen,this),this.sweetButton.element.on("touchend",this.giveCoolSword,this)},ToDoList.prototype.jetpackDone=function(){this.jetpackText.element.opacity=.5,isJetpackDone=!0,this.checkForWin()},ToDoList.prototype.codeDone=function(){this.codeText.element.opacity=.5,isCodeDone=!0,this.checkForWin()},ToDoList.prototype.botherCoworkersDone=function(){this.botherCoworkersText.element.opacity=.5,areCoworkersBothered=!0,this.checkForWin()},ToDoList.prototype.checkForWin=function(){isJetpackDone&&isCodeDone&&areCoworkersBothered&&!alreadyWon&&(this.winScreen.enabled=!0,alreadyWon=!0)},ToDoList.prototype.resetOnWin=function(){window.location.assign("https://launch.playcanvas.com/987595")},ToDoList.prototype.openCoolSwordScreen=function(){this.winScreen.enabled=!1,this.okayHereIsYourSwordScreen.enabled=!0},ToDoList.prototype.giveCoolSword=function(){this.okayHereIsYourSwordScreen.enabled=!1,this.sickSword.enabled=!0};pc.script.createLoadingScreen(function(e){var t,a;t=["body {","    background-color: #000000;","}","#application-splash-wrapper {","    position: absolute;","    top: 0;","    left: 0;","    height: 100%;","    width: 100%;","    background-color: #000000;","}","#application-splash {","    position: absolute;","    top: calc(50% - 28px);","    width: 264px;","    left: calc(50% - 132px);","}","#application-splash img {","    width: 100%;","}","#progress-bar-container {","    margin: 20px auto 0 auto;","    height: 2px;","    width: 100%;","    background-color: #1d292c;","}","#progress-bar {","    width: 0%;","    height: 100%;","    background-color: #f60;","}","@media (max-width: 480px) {","    #application-splash {","        width: 170px;","        left: calc(50% - 85px);","    }","}"].join("\n"),(a=document.createElement("style")).type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),document.head.appendChild(a),function(){var e=document.createElement("div");e.id="application-splash-wrapper",document.body.appendChild(e);var t=document.createElement("div");t.id="application-splash",e.appendChild(t),t.style.display="none";var a=document.createElement("img");a.src="https://knipsch.com/images/CorporateLogo.png",t.appendChild(a),a.onload=function(){t.style.display="block"};var o=document.createElement("div");o.id="progress-bar-container",t.appendChild(o);var p=document.createElement("div");p.id="progress-bar",o.appendChild(p)}(),e.on("preload:end",function(){e.off("preload:progress")}),e.on("preload:progress",function(e){var t=document.getElementById("progress-bar");t&&(e=Math.min(1,Math.max(0,e)),t.style.width=100*e+"%")}),e.on("start",function(){var e=document.getElementById("application-splash-wrapper");e.parentElement.removeChild(e)})});